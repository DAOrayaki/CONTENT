


[The DAO](/tag/the-dao/)

一份​前瞻性暂停使用The DAO的呼吁（2016.5.27）
===============================




* Daorayaki
---------


Read [more posts](/author/daorayaki/) by this author.



#### [Daorayaki](/author/daorayaki/)



28 May 2021
• 17 min read






![一份​前瞻性暂停使用The DAO的呼吁（2016.5.27）](/content/images/size/w2000/2021/05/1.jpg)



### DAOrayaki DAO研究奖金池：

资助地址: 0xCd7da526f5C943126fa9E6f63b7774fA89E88d71

投票进展：DAO Committee 3/7 

通过赏金总量：150 USDC

研究种类：DAO, The DAO, Attacks

原文作者:   Dino Mark, Vlad Zamfir, and Emin Gün Sirer

贡献者：Dewei, DAOctor @DAOrayaki

原文: A Call for a Temporary Moratorium on The DAO

![](http://daorayaki.org/content/images/2021/05/----_20210426113809-13.png)The DAO攻击事件发生在2016年6月17日，本篇文章写于2016年5月27日，再读仍然充满前瞻性。  
        The DAO是一个令人兴奋的新构造：一个由程序治理的投资工具，由投资者投票决定资助的提案。作为以太坊区块链上的智能合约，The DAO已经筹集了1150万 ETH，在撰写本文时价值1.5亿美元。这是史上规模最大众筹活动。The DAO现在控制着以太坊总供应量的16%。它可以说是以太坊生态系统中最引人注目的项目。  
        我们刚刚发布了一篇分析The DAO及其投票机制的研究论文的初稿。本文指出了The DAO激励投资者策略行为的机制设计存在的问题；也就是说，与他们的偏好的真实投票相悖。然后，我们概述了这些行为可能导致的对The DAO的潜在攻击。  
        特别是，我们已经确定了七个可能会导致The DAO参与者采取的策略行为的关注原因。其中一些行为可能会导致诚实的DAO投资者的投资遭到劫持，或者违背他们的利益和意图而提交提案。  
        这些担忧促使暂停资助提议，以防止因机制设计不当而造成的损失。暂停将使The DAO有时间进行关键的安全升级。我们鼓励社区采取暂停措施，直到The DAO能够更新。  
        为了方便起见，我们跳过The DAO及其机制的背景，直接进入正题。

### 攻击和担忧

        DAO的核心是使代币持有者能够对提案进行投票。每个提案都有一个明确的现行成本，具体在提案本身。它通过ETH计价的预期利润或通过The DAO代币（TDTs）的隐性增值向股东回报价值。与每项投资一样，向The DAO提出的建议都有成功的可能性，这取决于企业的性质及其商业计划。例如，一个提案可能要求1000 Ether来生产1000件T恤，并可能估计他们将以每件1.5 ETH的价格出售，从而在几个月内产生500 Ether的总利润，从而估计他们将向The DAO返还1500 ETH 。预计在投票阶段的激烈辩论和讨论将使每个选民能够独立地估计成功的机会，从而估计期望值（EV）。  
        良好的机制设计要求重构整个组织，使得理性的参与者能够根据他们对每个提案的预期价值的估计进行真实的投票。为了使群体智慧得以体现，我们希望TDT持有人对他们认为具有正期望值（+EV）的提案投赞成票，对他们认为具有负期望值（-EV）的提案投反对票；或者，如果他们的投票结果不会改变，他们也可以弃权。我们现在来描述为什么The DAO的当前实现未能坚持这一原则。

### 肯定偏见，反对的阻碍

        目前的The DAO对提案投赞成票和否决票有很强的正面倾向，这是它在投票后限制用户选择范围的一种副作用。具体地说，当前的The DAO限制了代币持有者在投票结果确定之前从DAO中退出的能力。一个认为某个提案的预期值为负的选民陷入了窘境：他们可以不冒任何风险立即从DAO中分裂出来，否则他们可以投反对票，希望提案不能得到资助。因此，对于一个认为提案是-EV的投资者来说，投反对票本身就是有风险的，因为投赞成票并不代表+EV的选民。因此，DAO投票很可能会表现出一种偏见：整个投票期间只收到yes 投票，而策略代币持有者只有在获得一定成功保证的情况下才会投反对票。  
        因为没有投票人会在获得其他人对同一提案的负面看法的信息后才投票，投票过程本身不会随着时间的推移产生关于代币持有人偏好的统一信息。积极选民的偏好很早就会显现出来，但消极情绪会在投票过程中被抑制——对于一个通过投票来衡量群众情绪的众筹组织来说，这是一个有问题的结果。

### 跟踪攻击

        从DAO主合约中提取个人持有的ETH的唯一可行方法—从The DAO拆分，目前是对 "跟踪攻击 “的开放。回想一下，从The DAO拆分出来的用户发起了一个新的DAO合约，其中他们是唯一的投资者和策展人。目的是用户可以通过将提案列入白名单以向自己支付该子合约的全部内容，在100％的支持下对其进行投票，然后通过执行批准的提案来提取资金来提取其资金。  
        但是，请记住，拆分和由此产生的子合约创建发生在公链上。因此，攻击者可以将目标个人追击到此类子合约中。  
        由于拆分的用户是新成立的子合约的策展人，跟踪者实际上不能盗取资金；被跟踪者可以拒绝将跟踪者的提议列入白名单（尽管注意到，由于可能出现混淆和人为错误，此类攻击的预期结果仍然是积极的）。如果跟踪者投入的资金相当于子合约的53%或以上，他可以有效阻止被跟踪者从合约中提取资金回ETH。受害人（被跟踪者）随后试图从子合约中拆分（创建新合约），可以递归进行，有效地捕获受害人的资金，并禁止将其转换回ETH。攻击者并不会存在资金风险，因为在达到深度限制之前，他可以随时从子DAO中拆分。这就为勒索创造了可能。尽管已经提出了一些针对攻击者/跟踪者的防止和反击的补救措施，但需要非同寻常的技术成熟度和代表代币持有人的勤勉。

### 伏击

        在一次埋伏中，大型投资者利用The DAO用户的偏见，在最后一刻增加了很大一部分赞成票，以避免投反对票，从而为一个与自我利益相关的提案提供资金。  
回想一下，在当前的The DAO结构下，一个理性的参与者如果相信一个提议是-EV，他很可能会避免投票，因为这样做会限制他在提议成功的情况下分割资金的能力。尤其是当投资者发现已经有足够多的反对票否决了该提案时，情况更是如此。因此，即使是那些为The DAO提供了低得离谱回报的提案，也可能得不到足以击败它们的NO选票。  
        这种行为为潜在的攻击打开了大门：一个足够大的投票集团可以利用这种沉默，在最后可能的时刻投赞成票，为提案提供资金。这样的攻击很难被发现和防御，因为它们几乎没有时间让The DAO代币持有者提取资金。在目前的The DAO投资者中，已经有一个whale投资了8888888ETH。该投资者目前拥有The  DAO所有未投票票数的7.7%。对于只需要20%法定人数的提案，该投资者已经拥有77%的通过提案所需的赞成票，只需与2.3%+1的代币持有人合谋，作为从被盗资金中支付合谋者的回报。

### 代币突袭/抢夺（Token Raid）

        在代币突袭中，大型投资者通过压低TDT的价值获益，或者直接从此类价格变动中获利（例如通过卖空或看跌期权），或者在公开市场上回购TDT以获得更大的The DAO份额。如果攻击者能够（i）激励大部分代币持有人不拆分，而是直接在交易所出售其TDT，以及（ii）激励大部分公众不在交易所购买TDT，则代币抢夺（Token Raid）成功。攻击者可以实现（i）对任何拆分的人实施跟踪者攻击，然后在社交媒体上公开该攻击。更糟糕的是，由于跟踪者攻击的存在现在已经众所周知，攻击者不需要攻击任何真实的实体，而是可以创建虚拟实体，发布被跟踪的故事，以便在投资者中散播恐慌。  
        攻击者可以通过创建一个被广泛理解为-EV的自利提案来实现（ii），在投票结束前等待第6天，然后用大量选票对其投赞成票。这种行为的效果是阻止理性的市场参与者购买TDT代币，因为（a）如果攻击者的提议成功，他们将失去金钱，（b）他们没有足够的时间在交易所购买TDT，并在攻击者的提议结束前将其转换回eth，从而消除了任何无风险套利获利的机会。（i）和（ii）的综合结果意味着TDT将面临净销售压力，从而导致价格下降。攻击者可以在交易所购买廉价的TDT，以获得无风险的利润，因为如果攻击提议真的成功通过，它是唯一没有风险的TDT买家。

### 平衡之外的攻击（The extraBalance Attack）

        平衡之外的攻击是一种攻击者试图恐吓代币持有者从The DAO中拆分，从而增加TDT的账面价值的攻击。TDT的账面价值通过拆分而增加，因为被拆分的代币持有人无法收回任何额外余额，因此额外余额占总余额的比例较大，从而增加了TDT的账面价值。目前余额为203257.65eth，意味着TDT的账面价值应为1.02。如果攻击者能够吓跑一半的代币持有者，TDT的值将增加到1.04。如果攻击者能够吓跑约95%的代币持有者，剩余TDT的账面价值将大约为2.00。在这次攻击中，攻击鲸鱼会做与代币抢夺相反的事情，创建一个带有负回报的自私提议，然后立即用一个大的TDT投票块对其投赞成票，从而吓坏了所有代币持有者，然后给他们14天，直到投票期结束，这样他们就有足够的时间安全地拆分。在这种情况下，拆分将是无风险的（假设它不与跟踪攻击相耦合），因为如果攻击者最终有足够的赞成票，投票反对可能会导致损失。

### 拆分多数派收购攻击（The Split Majority Takeover Attack）

        尽管The DAO白皮书明确指出了多数收购攻击，并引入了策展人的概念来阻止它，但还不清楚威慑机制是否足够。回想一下，在The DAO白皮书中概述的多数收购攻击中，一个规模为53%或以上的大型投票集团投票将100%的资金授予一个只对该集团有利的提案。策展人应该通过追踪受益人的身份来发现这种情况。然而，目前尚不清楚，如果由多个实体组成的卡特尔投票集团，不仅针对100%的基金提出单一提案，而且提出多个不同的提案，策展人如何能够察觉到这种攻击。投票集团的成员可以实现零碎清空基金的目标。从根本上说，这种攻击与许多吸引大多数人的投资机会是无法区分的。这里的关键区别因素是利益冲突：提案的直接受益人也是The DAO的象征持有人。

### 同时发生的捆绑攻击

        在同时存在提案的情况下，The  DAO的结构可能会产生不良的动态。特别是，请记住，TDT持有人对提案投赞成票时，在该提案的投票期结束之前，不得拆分或转让。这提供了一个攻击放大向量，攻击者在其中收集投票周期较长的提案的投票，实际上捕获了投票者在The DAO中的份额。然后，可以在更短的投票期内提出一个具有攻击性的提案。这次袭击如果成功，肯定会影响被困投票者的资金。受困的投票者被迫采取积极措施捍卫自己的投资。

### 独立性假设

        到目前为止，讨论中一个关键的隐含假设是，这些建议是独立的。也就是说，它们的成功机会和回报不是相互联系或相互依赖的。对The DAO的同时提议很可能是协同的，甚至是对抗的；例如，在同一空间中的一组相互竞争的项目可能会影响彼此的成功机会，从而影响集体回报。同样，如果合作项目得到共同资助，则可能会产生足够的兴奋感，以产生超额收益；社会科学的证据表明，社会过程是由非线性系统驱动的。  
        然而，The DAO中提案投票的性质无法让投资者表达复杂、相互依存的偏好。例如，投资者不能表示有条件的偏好（例如，“如果另一个提案没有得到资助，则对该提案投赞成票”）。总的来说，构建市场机制以获得这些偏好，以及表达这些偏好的适当程序化API，需要一个更为详细和细致的合约。这并不构成攻击媒介，但它确实表明，即使在参与者没有恶意的情况下，我们也可以看到策略投票行为。

### 潜在修复

        在过去的24小时内，已经在一组对等节点之间讨论了前面的攻击。出现了两个潜在的解决方法，这是毫无争议的。  
投票后宽限期：阻止上述攻击的一个潜在机制是实施投票后宽限期，在该宽限期内，提案被接受但尚未获得资助。这将为代币持有人提供一段时间，在这段时间内，他们可以撤回投资，当他们察觉到投票结果可能导致基金价值下降。  
即时取款：向普通地址提供即时和直接的eth取款将彻底消除跟踪者攻击并削弱代币抢夺/突袭。许多代币持有者现在似乎认为他们可以随时从the DAO中退出。下一步谨慎的做法是，在不必诉诸复杂防御机制的情况下，保证这一点能够实现。

### 暂停的后勤保障

        从我们的部分分析和讨论中得出的主要结论是，明智的做法是呼吁暂时暂停列入白名单的提议，以便采取合理措施来改进The DAO的机制。因此，我们呼吁策展人实施这一暂停。  
        除了策展人实施的暂停，还有两种选择。一种是要求The DAO代币持有者以压倒性多数否决每一项提案，从而自行暂停。由于本文概述的涉及否定投票的缺陷，依赖此机制来防止针对同一机制的攻击是错误的。第二种选择是要求The DAO代币持有者通过投票选出一个新的策展人来选择安全措施，该策展人将执行暂停令。我们认为The DAO的默认行为应该有利于安全性。由于没有人知道无投票权、非活跃代币持有人的百分比，因此更改策展人所需的阈值可能太高，投票过程无法满足。基于这些原因，我们认为最安全的做法是由策展人实施暂停，并允许the DAO代币持有人通过策展人变更投票的方式选择退出。

### 总结

        上述担忧促使暂停提议，以防止因机制设计不当而造成的损失。暂停将使The DAO有时间进行关键的安全升级。我们鼓励社区采取暂停措施，直到可以更新The DAO



---

欢迎提交你的DAO研究到邮箱：daorayaki@dorafactory.org，瓜分10000USDC赏金池！欢迎访问DAOrayaki官网（daorayaki.org）

详情请参考：

[Dora Factory支持去中心化DAO研究组织DAOrayaki](#wechat_redirect)

历史文章：

[万字解读| Upshot One 对等预测协议](#wechat_redirect)

[道德作为通证工程共享（Token Engineering Commons）的使命与动机](#wechat_redirect)

[二次方融资（Quadratic Funding）的攻击与防守](#wechat_redirect)

[Synthetix：去中心化治理结构](#wechat_redirect)

[DAO 联盟|Open DeFi DAO 治理结构](#wechat_redirect)

[策展市场|一种构建联合关注网络的机制](#wechat_redirect)

[Farming机制是否代表着代币分配的进步？](#wechat_redirect)

[全方位解读PANVALA：去中心化的以太坊资助平台](#wechat_redirect)

[Social token与DAO思潮下微观经济体的崛起](#wechat_redirect)

[什么是社区贡献机会（CCO）？](#wechat_redirect)




